function onSubmit(){var e=document.getElementById("yourRank").value,t=document.getElementById("yourGun").value,r=document.getElementById("theirRank").value,a=document.getElementById("theirArmour").value,l=document.getElementById("theirHealth").value,e=calculate(e,t,r,a,l),t=document.getElementById("resultArea"),r=document.getElementById("result");r.innerText=e?`It will take ${Math.ceil(e)} bullets to kill your target`:"Something went wrong with the calculation",t.hidden=!1}let RANKS={hobo:1,civilian:2,recruit:3,pioneer:4,respectablePioneer:5,businessman:6,respectableBusinessman:7,spy:8,hitman:9,respectableHitman:10,assassin:11,respectableAssassin:12,factionManager:13,respectableFactionManager:14,mafioso:15,respectableMafioso:16,boss:17,respectableBoss:18,godfather:19,infamousGodfather:20,don:21,respectableDon:22,infamousGangster:23},GUNS={fnM240b:1},ARMOUR={swatVest:1,lightMilitary:1.25,mediumMilitary:1.5,heavyMilitary:2},getRankValue=e=>{if(e in RANKS)return RANKS[e]},getGunMultiplier=e=>e in GUNS?GUNS[e]:0,getArmourMultiplier=e=>e in ARMOUR?ARMOUR[e]:0,calculate=(e,t,r,a,l)=>{e=getRankValue(e);if(!e)return 0;r=getRankValue(r);if(!r)return 0;r=r/e*18500,e=getGunMultiplier(t);if(!e)return 0;t=getArmourMultiplier(a);if(!t)return 0;try{var n=r*e*(parseInt(l)/100),o=Math.ceil(n)*t;return Math.ceil(o)}catch(e){return 0}},bullets={volvo:1,ford:5,fiat:12,golf:21,porsche911:33,golf3:47,vw:64,renault:83,alfa:105,audi:130,lambo:157,carrera:187,ferrari:220,custom:220},carNames={"Volvo 440 GL":"volvo","Volvo S60":"volvo","Ford focus 2015":"ford","Ford focus":"ford","Fiat 500 Abarth":"fiat","Fiat Punto":"fiat","Volkswagen Golf cabrio":"golf","Volkswagen Golf":"golf","Porsche 911 cabrio":"porsche911","Porsche 911":"porsche911","Volkswagen Golf III GTI":"golf3","Volkswagen Golf III":"golf3","VW Passat":"vw","VW Polo":"vw","Renault Megane R.S":"renault","Renault Clio Sport":"renault","Alfa Romeo 33 Stradale":"alfa","Alfa Romeo GT":"alfa","Audi A8":"audi","Audi TT":"audi","Lamborghini Gallardo":"lambo","Lamborghini Miura":"lambo","Porsche Carrera GT":"carrera","Porsche Carrera 4S":"carrera","Ferrari GTO 250":"ferrari","Ferrari Enzo":"ferrari"};function calculateFromPoints(){var e=document.getElementById("pricePerPoint"),t=document.getElementById("pricePerBulletPoints");e&&t&&(e=parseInt(filterNumbers(e.value)),e=Math.round(15*e/1e3).toLocaleString("en",{style:"currency",currency:"USD",maximumFractionDigits:0}),t.innerText=`It costs ${e} per bullet to buy with points.`,t.hidden=!1)}function calculateFromCar(){var e=document.getElementById("car"),t=document.getElementById("damage"),r=document.getElementById("price"),a=document.getElementById("pricePerBulletCar");e&&t&&r&&a&&(e=e.value,t=parseInt(filterNumbers(t.value)),r=parseInt(filterNumbers(r.value)),e=costFromCar(calcBullets(e,t),r),a.innerText=`It costs ${e} per bullet melting the selected car`,a.hidden=!1)}function calcBullets(e,t){return Math.ceil((100-t)*bullets[e]/100)}function costFromCar(e,t){return formatUsd(Math.round(t/e))}function formatUsd(e){return e.toLocaleString("en",{style:"currency",currency:"USD",maximumFractionDigits:0})}function filterNumbers(e){return e.toString().replaceAll(/[^0-9]/g,"")}function parseBulk(){var t=document.getElementById("carPrices"),r=document.getElementById("bulkResults"),a=document.getElementById("bulkResultsBody");if(a.innerHTML="",t&&r&&a){let e=[];var l,n,o=/^\s*([a-zA-Z0-9]+( [a-zA-Z0-9.]+)*)\s*([0-9]+%) damage\s*\$([0-9,]+)\s*$/;for(l of t.value.toString().split("\n")){var i,u,c,s,m=o.exec(l);m&&(i=m[1],c=carNames[i],u=parseInt(filterNumbers(m[3])),m=parseInt(filterNumbers(m[4])),c=calcBullets(c,u),s=Math.round(m/c),e.push({car:i,damage:u,price:m,bullets:c,costPerBullet:s}))}for(n of e=e.sort((e,t)=>e.costPerBullet-t.costPerBullet)){var d=document.createElement("tr"),f=document.createElement("td"),f=(f.innerText=n.car,d.appendChild(f),document.createElement("td")),f=(f.innerText=n.damage+"%",d.appendChild(f),document.createElement("td")),f=(f.innerText=formatUsd(n.price),d.appendChild(f),document.createElement("td")),f=(f.innerText=n.bullets.toString(),d.appendChild(f),document.createElement("td"));f.innerText=formatUsd(n.costPerBullet),d.appendChild(f),a.appendChild(d)}r.hidden=!1}}
